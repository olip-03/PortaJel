@namespace PortaJel_Blazor.Shared

<style>
    .PageBackgroundColor {
        background: @pageBackgroundColor !important;
    }

    .PageSecondaryBackgroundColor {
        background: @pageSecondaryBackgroundColor !important;
    }
    
    .PageSecondaryColor {
        background: #202020 !important;
    }

    .NavigationBarColor {
        background-color: teal !important;
    }

    .PrimaryColor {
        color: @primaryColor !important;
    }

    .SecondaryColor {
        color: white !important;
    }

    .PrimaryTextColor {
        color: #cfcfcf !important;
    }

    .SecondaryTextColor {
        color: darkgray !important;
    }

    .TertiaryTextColor {
        color: whitesmoke !important;
    }

    .TransparentColor {
        background-color: transparent !important;
    }
</style>

@code {
    private string pageBackgroundColor = "#101010";
    private string pageSecondaryBackgroundColor = "#1e1e1e";
    private string primaryColor = "white";

    protected override void OnInitialized()
    {
        UpdateColors();
    }

    public void UpdateColors()
    {
        // PageSecondaryBackgroundColor
        if(Application.Current != null)
        {
            var hasPrimaryColor = Application.Current.Resources.TryGetValue("PrimaryColor", out object outPrimaryColor);
            if (hasPrimaryColor)
            {
                Color color = (Color)outPrimaryColor;
                primaryColor = color.ToHex();
            }
            var hasSecondaryBackgroundColor = Application.Current.Resources.TryGetValue("PageSecondaryBackgroundColor", out object outSecondaryBackgroundColor);
            if (hasSecondaryBackgroundColor)
            {
                Color color = (Color)outSecondaryBackgroundColor;
                pageSecondaryBackgroundColor = color.ToHex();
            }
            StateHasChanged();
        }
    }
    // var hasValue = Resources.TryGetValue("Primary", out object primaryColor);
    // if (hasValue)
    // {
    //     myLabel.TextColor = (Color) primaryColor;
    // }
}
