@using Jellyfin.Sdk;
@using PortaJel_Blazor.Shared;
@using PortaJel_Blazor.Data;
@using BlazorAnimate
@namespace PortaJel_Blazor.Shared

<div>
    <div class="horizScroll-menuTitleContainer">
        <h3>@Title</h3>
        <div style="display: flex;">
            View All
            <img src="/images/showgrid.svg" class="horizScroll-showall-img">
        </div>
    </div>

    <div class="horizScroll-scrollmenu">
        @for (int i = 0; i < itemCount; i++)
        {
            if (albumData != null && albumData.Count() >= itemCount)
            {
                BaseMusicItem showRecord = albumData[i];
                string base64 = albumBlurHashData[i];
                <AlbumCard musicObject="@showRecord" placeholderBase64="@base64" />
            }
            else
            {
                <AlbumCard musicObject="null" />
            }
        }
        <div class="horizScroll-scrollmenu-showall">
            <p style="margin: 1rem; color: darkgray;">Show All</p>
        </div>
    </div>
</div>

@code {
    // Demonstrates how a parent component can supply parameters
    [Parameter] public string Title { get; set; } = String.Empty;
    [Parameter] public BaseMusicItem[] albumData { get; set; } = new BaseMusicItem[0];
    [Parameter] public string[] albumBlurHashData { get; set; } = new string[0];
    [Parameter] public int itemCount { get; set; } = 0;

    private List<BaseItemKind> acceptedTypes = new List<BaseItemKind>
    {
        BaseItemKind.MusicAlbum,
        BaseItemKind.Audio
    };
}
